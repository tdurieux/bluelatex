angular.module("bluelatex.User.Controllers.Login",['bluelatex.User.Services.Session','bluelatex.User.Services.User','ngStorage']).controller('LoginController',['$rootScope','$scope','UserService','SessionService','$location','$sessionStorage','$log','MessagesService',function(c,d,e,f,g,h,i,j){var k={};d.user=k;d.login=function(){j.clear();f.login(k.username,k.password).then(function(b){if(b.response==true){e.getInfo(k).then(function(a){h.username=k.username;h.password=k.password;c.loggedUser={name:a.name,first_name:a.first_name,last_name:a.last_name,email:a.email,etag:a.header.etag};g.path("/")},function(a){i.error(a)})}else{}},function(a){switch(a.status){case 400:j.error('_Login_Some_parameters_are_missing_',a);break;case 401:j.error('_Login_Wrong_username_and_or_password_',a);break;case 500:j.error('_Login_Something_wrong_happened_',a);break;default:j.error('_Login_Something_wrong_happened_',a)}})}}]);