'use strict';angular.module('bluelatex.Shared.Services.WindowActive',[]).factory("WindowActiveService",['$document','$window',function(b,c){var d=[];var e=function(a){d.push(a)};var f=function(){angular.forEach(d,function(a){a()})};var g=true;var i="hidden";if(i in b)b.addEventListener("visibilitychange",onchange);else if((i="mozHidden")in b)b.addEventListener("mozvisibilitychange",onchange);else if((i="webkitHidden")in b)b.addEventListener("webkitvisibilitychange",onchange);else if((i="msHidden")in b)b.addEventListener("msvisibilitychange",onchange);else if('onfocusin'in b)b.onfocusin=b.onfocusout=onchange;else c.onpageshow=c.onpagehide=c.onfocus=c.onblur=onchange;function onchange(a){var v='visible',h='hidden',evtMap={focus:v,focusin:v,pageshow:v,blur:h,focusout:h,pagehide:h};a=a||c.event;if(a.type in evtMap){g=evtMap[a.type]==v}else{g=this[i]}f()}return{isActiveWindow:function(){return g},registerObserverCallback:e}}]);