angular.module("bluelatex.User.Controllers.Login",['bluelatex.User.Services.Session','bluelatex.User.Services.User','ngStorage']).controller('LoginController',['$rootScope','$scope','UserService','SessionService','localize','$location','$sessionStorage','$log',function(c,d,e,f,g,h,i,j){var k={};d.user=k;d.login=function(){f.login(k.username,k.password).then(function(b){if(b.response==true){e.getInfo(k).then(function(a){i.username=k.username;i.password=k.password;c.loggedUser={name:a.name,first_name:a.first_name,last_name:a.last_name,email:a.email,etag:a.header.etag};h.path("/")},function(a){j.error(a)})}else{}},function(a){d.errors=[];switch(a.status){case 400:d.errors.push(g.getLocalizedString('_Login_Some_parameters_are_missing_'));break;case 401:d.errors.push(g.getLocalizedString('_Login_Wrong_username_and_or_password_'));break;case 500:d.errors.push(g.getLocalizedString('_Login_Something_wrong_happened_'));break;default:d.errors.push(g.getLocalizedString('_Login_Something_wrong_happened_'));j.log(a)}})}}]);