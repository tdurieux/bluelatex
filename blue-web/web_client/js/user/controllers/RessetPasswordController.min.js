angular.module("bluelatex.User.Controllers.ResetPassword",['bluelatex.User.Services.User']).controller('ResetPasswordController',['$scope','$routeParams','UserService','$location','$log','MessagesService',function(b,c,d,e,f,g){var h={};b.user=h;b.resetPassword=function(){d.resetPassword(c.username,c.token,h.new_password,h.new_password_2).then(function(a){f.log(a);if(a.name!='unable_to_reset'){g.message('_Reset_Password_changed_',a);e.path("/")}else{g.error('_Reset_password_Some_parameters_are_missing_')}},function(a){b.errors=[];switch(a.status){case 400:g.error('_Reset_password_Some_parameters_are_missing_',a);break;case 401:g.error('_Reset_password_Wrong_username_and_or_password_',a);break;case 500:g.error('_Reset_password_Something_wrong_happened_',a);break;default:g.error('_Reset_password_Something_wrong_happened_',a)}})};b.reset=function(){d.getPasswordToken(h.username).then(function(a){if(a.name!='unable_to_reset'){g.message('_Reset_Wait_email_confirm_request_',a);e.path("/")}else{g.error('_Login_Some_parameters_are_missing_',a)}},function(a){b.errors=[];switch(a.status){case 404:g.error('_Reset_User_not_found',a);break;case 400:g.error('_Reset_Some_parameters_are_missing_',a);break;case 401:g.error('_Reset_Wrong_username_and_or_password_',a);break;case 500:g.error('_Reset_Something_wrong_happened_',a);break;default:g.error('_Reset_Something_wrong_happened_',a)}})}}]);