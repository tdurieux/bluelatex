angular.module("bluelatex.User.Controllers.ResetPassword",['bluelatex.User.Services.User']).controller('ResetPasswordController',['$scope','$routeParams','UserService','localize','$location','$log',function(b,c,d,e,f,g){var h={};b.user=h;b.resetPassword=function(){d.resetPassword(c.username,c.token,h.new_password,h.new_password_2).then(function(a){g.log(a);if(a.name!='unable_to_reset'){f.path("/")}else{b.errors.push(e.getLocalizedString('_Login_Some_parameters_are_missing_'))}},function(a){b.errors=[];switch(a.status){case 400:b.errors.push(e.getLocalizedString('_Login_Some_parameters_are_missing_'));break;case 401:b.errors.push(e.getLocalizedString('_Login_Wrong_username_and_or_password_'));break;case 500:b.errors.push(e.getLocalizedString('_Login_Something_wrong_happened_'));break;default:b.errors.push(e.getLocalizedString('_Login_Something_wrong_happened_'));g.error(a)}})};b.reset=function(){d.getPasswordToken(h.username).then(function(a){if(a.name!='unable_to_reset'){f.path("/")}else{b.errors.push(e.getLocalizedString('_Login_Some_parameters_are_missing_'))}},function(a){b.errors=[];switch(a.status){case 404:b.errors.push(e.getLocalizedString('_Reset_User_not_found'));break;case 400:b.errors.push(e.getLocalizedString('_Login_Some_parameters_are_missing_'));break;case 401:b.errors.push(e.getLocalizedString('_Login_Wrong_username_and_or_password_'));break;case 500:b.errors.push(e.getLocalizedString('_Login_Something_wrong_happened_'));break;default:b.errors.push(e.getLocalizedString('_Login_Something_wrong_happened_'));g.error(a)}})}}]);