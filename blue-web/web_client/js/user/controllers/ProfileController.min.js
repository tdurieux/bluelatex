angular.module("bluelatex.User.Controllers.Profile",['bluelatex.User.Services.User']).controller('ProfileController',['$rootScope','$scope','UserService','$location','$log','MessagesService',function(b,c,d,e,f,g){c.user={name:b.loggedUser.name,first_name:b.loggedUser.first_name,last_name:b.loggedUser.last_name,email:b.loggedUser.email,roles:b.loggedUser.roles};c.editProfile=function(){g.clear();d.save(save).then(function(a){e.path("/papers")},function(a){switch(a.status){case 400:g.error('_Edit_profile_Some_parameters_are_missing_',a);break;case 401:g.error('_Edit_profile_Wrong_username_and_or_password_',a);break;case 500:g.error('_Edit_profile_Something_wrong_happened_',a);break;default:g.error('_Edit_profile_Something_wrong_happened_',a)}})};c.remove=function(){g.clear();d.remove(user).then(function(a){e.path("/login")},function(a){switch(a.status){case 400:g.error('_Remove_user_Captcha_not_verify_or_user_not_authenticated_',a);break;case 401:g.error('_Remove_user_The_captcha_did_not_verify_',a);break;case 403:g.error('_Remove_user_The_user_still_owns_papers_',a);break;case 500:g.error('_Remove_user_Something_wrong_happened_',a);break;default:g.error('_Remove_user_Something_wrong_happened_',a)}})};c.edit=function(){g.clear();d.save(user).then(function(a){g.message('_Edit_profile_success_',a)},function(a){c.errors=[];switch(a.status){case 304:g.error('_Edit_profile_No_enough_data_',a);break;case 401:g.error('_Edit_profile_User_must_be_authenticated_',a);break;case 403:g.error('_Edit_profile_Not_authorized_to_modifiy_the_user_data_',a);break;case 404:g.error('_Edit_profile_User_does_not_exist_',a);break;case 409:g.error('_Edit_profile_No_revision_obsolete_revision_was_provided_in_the_request_',a);break;case 500:g.error('_Edit_profile_Something_wrong_happened_',a);break;default:g.error('_Edit_profile_Something_wrong_happened_',a)}})}}]);