Date.prototype.getWeek=function(){var a=new Date(this.getFullYear(),0,1);return Math.ceil((((this-a)/86400000)+a.getDay()+1)/7)};var jsonToPostParameters=function(a){return Object.keys(a).map(function(k){return encodeURIComponent(k)+'='+encodeURIComponent(a[k])}).join('&')};function getFileNameExtension(a){var b=a.split('.');return b[b.length-1]}function getFileType(a){var b=getFileNameExtension(a);switch(b.toLowerCase()){case'jpg':case'jpeg':case'gif':case'bmp':case'png':return'image';case'm4v':case'avi':case'mpg':case'mp4':return'video';case'pdf':return'pdf';case'txt':return'text';case'tex':return'latex'}return'other'}function clone(a){if(null==a||"object"!=typeof a)return a;if(a instanceof Date){var b=new Date();b.setTime(a.getTime());return b}if(a instanceof Array){var b=[];for(var i=0,len=a.length;i<len;i++){b[i]=clone(a[i])}return b}if(a instanceof Object){var b={};for(var c in a){if(a.hasOwnProperty(c))b[c]=clone(a[c])}return b}throw new Error("Unable to copy obj! Its type isn't supported.");}function get_radom_color(){return(function(m,s,c){return(c?arguments.callee(m,s,c-1):'#')+s[m.floor(m.random()*s.length)]})(Math,'0123456789ABCDEF',5)}function findPosX(a){var b=0;if(a.offsetParent){while(1){b+=a.offsetLeft;if(!a.offsetParent){break}a=a.offsetParent}}else if(a.x){b+=a.x}return b};function findPosY(a){var b=0;if(a.offsetParent){while(1){b+=a.offsetTop;if(!a.offsetParent){break}a=a.offsetParent}}else if(a.y){b+=a.y}return b};var convertToViewportPoint=function(x,y,a){var b=[a.scale,0,0,-a.scale,0,a.height];var c=x*b[0]+y*b[2]+b[4];var d=x*b[1]+y*b[3]+b[5];return[c,d]};