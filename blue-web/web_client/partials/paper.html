<section id="paper">
    <div class="options">
      <div class="left">
        <div class="btn-group listType">
          <label class="btn btn-default" ng-class="{'active': listType=='files'}" for="files">
              <input type="radio" name="listType" value="files" id="files" ng-model="listType">
              <span class="icon-file"></span>
          </label>
          <label class="btn btn-default" ng-class="{'active': listType=='toc'}" for="toc">
              <input type="radio" name="listType" value="toc" id="toc" ng-model="listType">
              <span class="icon-list" ></span>
          </label>
          <label class="btn btn-default" ng-class="{'active': listType=='figures'}" for="figure">
              <input type="radio" name="listType" value="figures" id="figure" checked="true" ng-model="listType">
              <span class="icon-vignette"></span>
          </label>
          <label class="btn btn-default" ng-class="{'active': listType=='debug'}" for="debug">
              <input type="radio" name="listType" value="debug" id="debug" checked="true" ng-model="listType">
              <span class="icon-vignette"></span>
          </label>
        </div>
      </div>
      <div class="center">
        <div class="left">
          <div class="subOption">
            <div class="label">
              <span ng-click="compile()">Compile</span>
            </div>
            <label><input type="checkbox" ng-model="compilerOptions"><span class="icon-down-empty"></span></label>
            <div class="subOptions" ng-show="compilerOptions">
              <label>
                <input type="radio" name="compiler">
                PDFLatex
              </label>
            </div>
          </div>
          <div class="subOption">
            <div class="label">
              Download
            </div>
            <label><input type="checkbox" ng-model="downloadOptions"><span class="icon-down-empty"></span></label>
            <div class="subOptions" ng-show="downloadOptions">
              <div ng-click="downloadPDF"><a href="{{pdfURL}}">Download PDF</a></div>
              <div ng-click="downloadZip"><a href="{{zipURL}}">Download Zip</a></div>
            </div>
          </div>
        </div>
        <div class="right">
          <div class="messages" bl-messages></div>
          <div class="pdf_action">
            <div class="scale">
              <select ng-model="scale">
                <option value="auto">Auto</option>
                <option value="0.5">50%</option>
                <option value="0.75">75%</option>
                <option value="1">100%</option>
                <option value="1.25">125%</option>
                <option value="1.50">150%</option>
                <option value="2">200%</option>
              </select>
            </div>
            <div class="navigation">
              <div class="prevPage icon-prev-page" ng-click="prevPage()">&nbsp;</div>
              <input type="text" ng-model="currentPage">
              <span>/</span>
              <div class="totalPage">{{totalPage}}</div>
              <div class="nextPage icon-next-page" ng-click="nextPage()">&nbsp;</div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <section class="centerRightCol">
        <section class="centerCol">
            <div ng-show="mode=='ace'" ui-ace="{
              useWrapMode : true,
              showGutter: true,
              mode: 'latex',
              onLoad: aceLoaded,
              onChange: aceChanged
            }" ng-model="content" itsalltext-extension=".tex"></div>
            <textarea ng-hide="mode=='ace'" ng-model="content" itsalltext-extension=".tex"></textarea>
        </section>
        <section class="rightCol">
            <div id="preview">
              <div ng-repeat="n in range(totalPage) track by $index" class="preview_page_container" bl-vignette data-synctex="synctex" data-current="current" data-currentPage="{{currentPage}}" data-line="{{current.line}}" data-type="{{vignetteType}}" data-page="{{$index+1}}" data-url="urlPaper" data-revision="revision" data-scale="scale" data-currentElem="currentElem"></div>
            </div>
        </section>
    </section>
    <section class="leftCol">
      <section class="list">
        <div class="toc" ng-show="listType=='toc'"><div bl-toc="toc"></div></div>
        <div class="debug" ng-show="listType=='debug'">
          <h2>Debug</h2>
          File: {{currentElem.file}}<br>
          Line: {{currentElem.line}}<br>
          bottom: {{currentElem.bottom}}<br>
          left: {{currentElem.left}}<br>
          currentLine: {{current.line}}<br>
          currentPage: {{currentPage}}<br>
          <label><input type="checkbox" ng-model="displaySyncTexBox">display SyncTex Box</label>
          <input type="text" ng-model="scale">
        </div>
        <div class="figures" ng-show="listType=='figures'">
          <div ng-repeat="n in range(totalPage) track by $index" class="preview_page_container" bl-vignette data-current="current" data-type="image" data-page="{{$index+1}}" data-currentPage="{{currentPage}}" data-url="urlPaper" data-scale="auto" data-revision="revision" ng-click="changePage($index+1)"></div>
        </div>
        <div class="files" ng-show="listType=='files'">
          <div id="file_list">
            <div class="file" ng-repeat="file in resources" ng-click="">
              <div class="icon type-{{file.extension}}"></div>
              <div class="label" ng-click="insertResource(file)">{{file.name}}<span class="extension">.{{file.extension}}</span></div>
              <button ng-click="removeResource(file)" class="icon-delete"></button>
              <button ng-click="viewResource(file)" class="icon-view"></button>
              <button ng-click="downloadResource(file)" class="icon-download"></button>
              <div class="clear"></div>
            </div>
          </div>
          <section id="upload_resource" ng-file-drop="onFileSelect($files)" ng-file-drag-over-class="file-hover">
            <h3>New Resource</h3>
            <label id="new_file">
              <span class="icon type-{{new_file.extension}}"></span>
              <div class="label" ng-hide="new_file.title==null" ng-click="insertResource(file)">{{new_file.name}}<span class="extension">.{{new_file.extension}}</span></div>
              <span ng-hide="new_file.title!=null">Select a file <span ng-file-drop-available="dropSupported=true" ng-show="!dropSupported"> or drag a file</span></span>
              <input type="file" ng-file-select="onFileSelect($files)">
            </label>
            <button ng-click="uploadResource()" ng-disabled="new_file.title==null">Upload</button>
            <button ng-click="cancelUploadResource()" ng-disabled="new_file.title==null">Cancel Upload</button>
          </section>
        </div>
      </section>
    </section>
</section>