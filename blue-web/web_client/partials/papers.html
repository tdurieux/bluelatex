<div id="papers">
    <div class="top">
        <h1 data-i18n="_Papers_">Papers</h1>
        <div class="options">
            <div id="display_style">
                <label>
                    <input type="radio" name="display_style" value="list" ng-model="display_style">
                    <span class="icon-list"></span>
                </label>
                <label>
                    <input type="radio" name="display_style" value="vignette" ng-model="display_style">
                    <span class="icon-vignette"></span>
                </label>
            </div>
            <form id="search">
                <input type="search" data-i18n-attr="_Search..._|placeholder" ng-model="search" autofocus>
            </form>
            <form id="sort">
                <span data-i18n="_Sort_by_">Sort by</span>
                <select ng-model="predicate">
                    <option value="id" data-i18n="_Id_">Id</option>
                    <option value="title" data-i18n="_Title_">Title</option>
                    <option value="date" data-i18n="_Date_">Date</option>
                    <option value="auhtors" data-i18n="_Authors_">Auhtors</option>
                </select>
                <select ng-model="reverse">
                    <option value="false" data-i18n="_Ascending_">Ascending</option>
                    <option value="true" data-i18n="_Descending_">Descending</option>
                </select>
            </form>
            <div class="clear"></div>
        </div>
    </div>
    <div class="left">
        <h3 data-i18n="_Tag_filter_"></h3>
        <label>
            <input type="radio" name="tag" ng-model="tag_filter" value="all">
            <span class="label" data-i18n="_All_">All</span>
            <span class="nb">{{(papers| filter:search | filter:dateFilter | filter:roleFilter ).length }}</span>
        </label>
        <label ng-repeat="tag in tags | orderBy:'label':false">
            <input type="radio" name="tag" ng-model="tag_filter" value="tag">
            <div class="label"><span class="diskColor" ng-style="{ backgroundColor: tag.color }"></span> {{tag.label}}</div>
            <span class="nb">{{(papers| filter:search | filter:dateFilter | filter:roleFilter ).length }}</span>
        </label>
        <h3 data-i18n="_Date_filter_">Date filter</h3>
        <label>
            <input type="radio" name="filter" ng-model="date_filter" value="all">
            <span class="label" data-i18n="_All_">All</span>
            <span class="nb">{{(papers| filter:search | filter:roleFilter).length }}</span>
        </label>
        <label>
            <input type="radio" name="filter" ng-model="date_filter" value="today">
            <span class="label" data-i18n="_Today_">Today</span>
            <span class="nb">{{(papers| filter:search | filter:roleFilter | filter:dateFilterToday).length }}</span>
        </label>
        <label>
            <input type="radio" name="filter" ng-model="date_filter" value="yesterday">
            <span class="label" data-i18n="_Yesterday_">Yesterday</span>
            <span class="nb">{{(papers| filter:search | filter:roleFilter | filter:dateFilterYesterday).length }}</span>
        </label>
        <label>
            <input type="radio" name="filter" ng-model="date_filter" value="tweek">
            <span class="label" data-i18n="_This_week_">This week</span>
            <span class="nb">{{(papers| filter:search | filter:roleFilter | filter:dateFilterTWeek).length }}</span>
        </label>
        <label>
            <input type="radio" name="filter" ng-model="date_filter" value="lweek">
            <span class="label" data-i18n="_Last_week_">Last week</span>
            <span class="nb">{{(papers| filter:search | filter:roleFilter | filter:dateFilterLWeek).length }}</span>
        </label>
        <label>
            <input type="radio" name="filter" ng-model="date_filter" value="month">
            <span class="label" data-i18n="_This_month_">This month</span>
            <span class="nb">{{(papers| filter:search | filter:roleFilter | filter:dateFilterMonth).length }}</span>
        </label>
        <label>
            <input type="radio" name="filter" ng-model="date_filter" value="year">
            <span class="label" data-i18n="_This_year_">This Year</span>
            <span class="nb">{{(papers| filter:search | filter:roleFilter | filter:dateFilterYear).length }}</span>
        </label>
        <h3 data-i18n="_Role_filter_">Role filter</h3>
        <label>
            <input type="radio" name="role" ng-model="role_filter" value="all">
            <span class="label" data-i18n="_All_">All</span>
            <span class="nb">{{(papers| filter:search | filter:dateFilter).length }}</span>
        </label>
        <label>
            <input type="radio" name="role" ng-model="role_filter" value="author">
            <span class="label" data-i18n="_Author_">Author</span>
            <span class="nb">{{(papers| filter:search | filter:dateFilter | filter:roleFilterAuthor).length }}</span>
        </label>
        <label>
            <input type="radio" name="role" ng-model="role_filter" value="reviewer">
            <span class="label" data-i18n="_Reviewer_">Reviewer</span>
            <span class="nb">{{(papers| filter:search | filter:dateFilter | filter:roleFilterReviewer).length }}</span>
        </label>
    </div>
    <div class="center">
        <div id="paper_list" ng-class="display_style">
            <div bl-messages></div>
            <div class="paper header" ng-if="display_style=='list'">
                <div class="title" data-i18n="_Title_"></div>
                <div class="date" data-i18n="_Date_"></div>
                <div class="role" data-i18n="_Role_"></div>
                <div class="tags" data-i18n="_Tags_"></div>
                <div class="options" data-i18n="_Options_"></div>
            </div>
            <div class="paper" ng-repeat="paper in papers | filter:search | filter:dateFilter | filter:roleFilter | orderBy:predicate:reverse" ng-animate=" 'animate' ">
                <div class="icon">
                    <a href="#/paper/{{paper.id}}"><img alt="{{paper.title}}" title="{{paper.title}}" ></a>
                </div>
                <div class="title">
                    <a href="#/paper/{{paper.id}}">{{paper.title}}</a>
                </div>
                <div class="date">
                    <a href="#/paper/{{paper.id}}">{{paper.date | date:'MM/dd/yyyy'}}</a>
                </div>
                <div class="role">
                    <a href="#/paper/{{paper.id}}">{{paper.role}}</a>
                </div>
                <div class="tags">
                    <a href="#/paper/{{paper.id}}"><span ng-repeat="tag in paper.tags | orderBy:'label':false"><span class="diskColor" ng-style="{ backgroundColor: tag.color }"></span></span></a>
                </div>
                <div class="options">
                    <a class="option rename" href="#/paper/{{paper.id}}/edit" data-i18n="_Options_" ng-if="paper.role == 'author'"></a>
                    <a class="option detele" ng-click="delete(paper)" data-i18n="_Delete_" ng-if="paper.role == 'author'"></a>
                </div>
            </div>
            <div class="no-paper" ng-if="(papers | filter:search | filter:dateFilter | filter:roleFilter).length == 0" data-i18n="_No_paper_found_">No paper found</div>
        </div>
    </div>
</div>